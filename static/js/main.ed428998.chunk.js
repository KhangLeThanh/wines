(this.webpackJsonpwines=this.webpackJsonpwines||[]).push([[0],{60:function(e,a,t){e.exports=t(88)},65:function(e,a,t){},88:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(6),l=t.n(r),c=(t(65),t(20)),i=t(35),s=t.n(i),m=t(46),p=t(47),d=t.n(p);var u=t(11),b=t(114),E=t(120),g=t(116),y=t(29),h=t(119),f=t(128),x=t(130),w=t(126),v=t(127),k=t(129),C=t(125),W=t(131),N=t(121),j=t(122),O=t(118),T=t(123),B=t(132),S=t(124),L=Object(b.a)((function(e){var a;return{TopWrapperAction:{paddingBottom:"0px"},xButton:{fontSize:"1.3em"},Title:(a={paddingTop:"20px",paddingLeft:e.spacing(4),paddingRight:e.spacing(4)},Object(u.a)(a,e.breakpoints.down("sm"),{padding:e.spacing(2)}),Object(u.a)(a,"& h2",{fontWeight:"700",fontSize:"35px"}),a),WrapperContent:Object(u.a)({paddingTop:"10px",paddingLeft:e.spacing(4),paddingRight:e.spacing(4)},e.breakpoints.down("sm"),{padding:e.spacing(2)})}}));function R(e){var a=e.detail,t=e.cid,n=e.handleClose,r=L();return a.comments.sort((function(e,a){return parseInt(a.upvotes)-parseInt(e.upvotes)})),o.a.createElement("div",null,o.a.createElement(g.a,{className:r.wrapperDialog},o.a.createElement(W.a,{"aria-labelledby":"customized-dialog-title",open:t,onClose:n},o.a.createElement(O.a,{className:r.TopWrapperAction},o.a.createElement(h.a,{className:r.xButton,onClick:n},"X")),o.a.createElement(E.a,{container:!0},o.a.createElement(E.a,{item:!0,xs:6,sm:6,md:12},o.a.createElement(N.a,{className:r.Title,onClose:n},a.name)),o.a.createElement(E.a,{item:!0,xs:6,sm:6,md:3},o.a.createElement(j.a,{className:r.WrapperContent},o.a.createElement(y.a,{variant:"body2",style:{display:"block",color:"#929292",marginBottom:"5px",fontWeight:"500"}},"Score:"),o.a.createElement(y.a,{variant:"h5",component:"h5",style:{display:"block",fontWeight:"700",fontSize:"1.2rem"}},a.score))),o.a.createElement(E.a,{item:!0,xs:4,sm:4,md:3},o.a.createElement(j.a,{className:r.WrapperContent},o.a.createElement(y.a,{variant:"body2",style:{display:"block",color:"#929292",marginBottom:"5px",fontWeight:"500"}},"Grape:"),o.a.createElement(y.a,{variant:"h5",component:"h5",style:{display:"block",fontWeight:"700",fontSize:"1.2rem"}},a.grape))),o.a.createElement(E.a,{item:!0,xs:4,sm:4,md:3},o.a.createElement(j.a,{className:r.WrapperContent},o.a.createElement(y.a,{variant:"body2",style:{display:"block",color:"#929292",marginBottom:"5px",fontWeight:"500"}},"Country:"),o.a.createElement(y.a,{variant:"h5",component:"h5",style:{display:"block",fontWeight:"700",fontSize:"1.2rem"}},a.country))),o.a.createElement(E.a,{item:!0,xs:4,sm:4,md:3},o.a.createElement(j.a,{className:r.WrapperContent},o.a.createElement(y.a,{variant:"body2",style:{display:"block",color:"#929292",marginBottom:"5px",fontWeight:"500"}},"Year:"),o.a.createElement(y.a,{variant:"h5",component:"h5",style:{display:"block",fontWeight:"700",fontSize:"1.2rem"}},a.year))),o.a.createElement(E.a,{item:!0,xs:12,sm:12,md:12},o.a.createElement(j.a,{className:r.WrapperContent},o.a.createElement(y.a,{variant:"body2",style:{display:"block"}},"Top Comments"),o.a.createElement(T.a,null,a.comments.map((function(e,a){return o.a.createElement(B.a,{key:a,style:{borderBottom:"1px solid #ececec"}},o.a.createElement(S.a,null,e.text))})))))),o.a.createElement(O.a,null,o.a.createElement("div",{style:{textAlign:"center",width:"100%",paddingBottom:"30px"}},o.a.createElement(h.a,{color:"primary",onClick:n},"Close"))))))}var z=Object(b.a)((function(e){var a;return{table:(a={minWidth:650},Object(u.a)(a,e.breakpoints.down("sm"),{minWidth:200}),Object(u.a)(a,e.breakpoints.down("xs"),{minWidth:150}),a),tableRow:{"&:hover":{cursor:"pointer","& td":{color:"blue"}}},tableCell:{borderBottom:"none"},TwoLastRow:Object(u.a)({},e.breakpoints.down("xs"),{display:"none"})}}));function A(e){var a=e.item,t=z(),r=Object(n.useState)(""),l=Object(c.a)(r,2),i=l[0],s=l[1],m=function(e){s(e)};return o.a.createElement(C.a,{className:t.tableRow},o.a.createElement(w.a,{className:t.tableCell,scope:"row",onClick:function(){return m(a.id)}},a.data.score),o.a.createElement(w.a,{className:t.tableCell,onClick:function(){return m(a.id)}},a.data.name," "),o.a.createElement(w.a,{className:t.tableCell,onClick:function(){return m(a.id)}},a.data.grape),o.a.createElement(w.a,{className:t.TwoLastRow,onClick:function(){return m(a.id)},style:{borderBottom:"none"}},a.data.country),o.a.createElement(w.a,{className:t.TwoLastRow,onClick:function(){return m(a.id)},style:{borderBottom:"none"}},a.data.year),a.id===i?o.a.createElement(R,{detail:a.data,cid:a.id,handleClose:function(){s("")}}):o.a.createElement("td",null))}var G=Object(b.a)((function(e){var a;return{root:{flexGrow:1,paddingTop:"3em"},paper:{boxShadow:"none"},grid:{maxWidth:1280,margin:"0 auto",backgroundColor:"#fff",padding:"20px"},wrapperContent:Object(u.a)({padding:"20px 40px"},e.breakpoints.down("xs"),{padding:"20px 10px"}),table:(a={minWidth:650},Object(u.a)(a,e.breakpoints.down("sm"),{minWidth:200}),Object(u.a)(a,e.breakpoints.down("xs"),{minWidth:150}),a),tableCell:{borderBottom:"none"},TwoLastRow:Object(u.a)({},e.breakpoints.down("xs"),{display:"none"}),button:{color:"blue"}}}));function I(e){var a=e.data,t=e.loadMore,n=e.isLoading,r=G();return o.a.createElement("div",{className:r.root},o.a.createElement("div",{className:r.grid},o.a.createElement(E.a,{container:!0,spacing:3,className:r.wrapperContent},o.a.createElement(E.a,{item:!0,xs:12,sm:12,md:12,style:{paddingBottom:"20px",paddingTop:"40px"}},o.a.createElement(g.a,{className:r.paper},o.a.createElement(y.a,{variant:"h1",component:"h1",style:{fontWeight:"700",fontSize:"40px"}},"Wines"))),o.a.createElement(E.a,{item:!0,xs:12,sm:12,md:4,style:{paddingBottom:"30px",paddingTop:"40px"}},o.a.createElement(g.a,{className:r.paper},o.a.createElement(y.a,{variant:"body2",style:{display:"block"}},"Total rated wines"),o.a.createElement(y.a,{variant:"h5",component:"h5",style:{display:"block",fontWeight:"700"}},"100 wines"))),o.a.createElement(E.a,{item:!0,xs:6,sm:6,md:4,style:{paddingBottom:"30px",paddingTop:"40px"}},o.a.createElement(g.a,{className:r.paper},o.a.createElement(y.a,{variant:"body2",style:{display:"block"}},"Average score"),o.a.createElement(y.a,{variant:"h5",component:"h5",style:{display:"block",fontWeight:"700"}},"456 points"))),o.a.createElement(E.a,{item:!0,xs:6,sm:6,md:4,style:{paddingBottom:"30px",paddingTop:"40px"}},o.a.createElement(g.a,{className:r.paper},o.a.createElement(y.a,{variant:"body2",style:{display:"block"}},"Most represented country"),o.a.createElement(y.a,{variant:"h5",component:"h5",style:{display:"block",fontWeight:"700"}},"France"))),o.a.createElement(E.a,{item:!0,xs:12,className:r.BodyContent},o.a.createElement(v.a,{component:g.a,style:{boxShadow:"none"}},o.a.createElement(f.a,{className:r.table,"aria-label":"simple table"},o.a.createElement(k.a,null,o.a.createElement(C.a,null,o.a.createElement(w.a,{style:{color:"#929292"}},"Score"),o.a.createElement(w.a,{style:{color:"#929292"}},"Title"),o.a.createElement(w.a,{style:{color:"#929292"}},"Grape"),o.a.createElement(w.a,{style:{color:"#929292"},className:r.TwoLastRow},"Country"),o.a.createElement(w.a,{style:{color:"#929292"},className:r.TwoLastRow},"Year"))),o.a.createElement(x.a,null,a.map((function(e){return o.a.createElement(A,{key:e.id,item:e})})))))),o.a.createElement(E.a,{item:!0,xs:12},o.a.createElement("div",{style:{textAlign:"center",paddingTop:"1.5em"}},n?o.a.createElement(h.a,{className:r.button},"Loading..."):o.a.createElement(h.a,{className:r.button,onClick:t},"Show more")," ")))))}function M(){var e=Object(n.useState)(5),a=Object(c.a)(e,2),t=a[0],r=a[1],l=function(e){var a=Object(n.useState)([]),t=Object(c.a)(a,2),o=t[0],r=t[1],l=Object(n.useState)(!0),i=Object(c.a)(l,2),p=i[0],u=i[1],b=Object(n.useState)(!1),E=Object(c.a)(b,2),g=E[0],y=E[1];return Object(n.useEffect)((function(){u(!0),y(!1);var a=function(){var a=Object(m.a)(s.a.mark((function a(){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d()({method:"GET",url:"https://api-staging.vello.fi/front-challenge-2020/wine",params:{limit:e}}).then((function(e){return r(Object.entries(e.data.items).map((function(e){return{id:e[0],data:e[1]}})))}));case 3:a.next=9;break;case 5:a.prev=5,a.t0=a.catch(0),y(!0),console.error(a.t0);case 9:u(!1);case 10:case"end":return a.stop()}}),a,null,[[0,5]])})));return function(){return a.apply(this,arguments)}}();e>500?alert("Sorry there are no more wines to show..."):a()}),[e]),{wines:o,loading:p,error:g}}(t),i=l.wines,p=l.loading,u=l.error;return o.a.createElement("div",{className:"application_container"},u?o.a.createElement("h1",null,"An error occured..."):o.a.createElement(I,{data:i,loadMore:function(){return r(t+5)},isLoading:p}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[60,1,2]]]);
//# sourceMappingURL=main.ed428998.chunk.js.map